{% extends "base.html" %}

{% block title %}Set your password | Precision Performance PT{% endblock %}

{% block content %}
<main class="auth-page">
  <section class="auth-card">
    {% if validlink %}
      <header class="auth-card__header">
        <h1 class="auth-card__title">Set your password</h1>
        <p class="auth-card__subtitle">
          Create a password to access your client dashboard.
        </p>
      </header>

      {% if form.non_field_errors %}
      <div class="auth-errors">
        {{ form.non_field_errors }}
      </div>
      {% endif %}

      <form method="post" class="auth-form">
        {% csrf_token %}

        <div class="auth-field">
          <label for="{{ form.new_password1.id_for_label }}">New password</label>
          {{ form.new_password1 }}
          {{ form.new_password1.errors }}
        </div>

        <div class="auth-field">
          <label for="{{ form.new_password2.id_for_label }}">Confirm password</label>
          {{ form.new_password2 }}
          {{ form.new_password2.errors }}
        </div>

        <button type="submit" class="auth-button">Set password</button>
      </form>

      <p class="auth-footer">
        Username is the email used on the consultation form.
      </p>
    {% else %}
      <header class="auth-card__header">
        <h1 class="auth-card__title">Link expired</h1>
        <p class="auth-card__subtitle">
          Ask your trainer to send a new password link.
        </p>
      </header>
      <p class="auth-footer">
        <a href="{% url 'accounts:client_login' %}">Back to client login</a>
      </p>
    {% endif %}
  </section>
</main>
{% endblock %}
